<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>English Word Learner</title>
    <link rel="icon" href="favicon.svg" sizes="any" type="image/svg+xml" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        margin: 0 auto;
        padding: 0;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }
      .navbar {
        background-color: #5715ba;
      }
      .flashcard {
        max-width: 400px;
        margin: 0 auto;
        text-align: center;
      }
      #box {
        position: absolute;
        right: 0;
        top: 0;
        margin: 1rem;
      }
      .section {
        padding-top: 20px;
        display: none; /* All sections are hidden by default */
      }
      .section.active {
        display: block; /* The active section is displayed */
      }
      .voice-control .volume-on {
        display: none;
      }
      .voice-control .volume-off {
        display: inline-block;
      }
      .voice-control.active .volume-on {
        display: inline-block;
      }
      .voice-control.active .volume-off {
        display: none;
      }
      /* Define the spinning animation */
      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      /* Apply the animation to the SVG icon */
      .animate-spin {
        animation: spin 1s linear infinite; /* Spin continuously */
      }
    </style>
  </head>
  <body class="container mt-5">
    <!-- Inline Alerts Container -->
    <div id="alert-container" class="fixed-top p-3 mb-3"></div>

    <!-- Top Menu -->
    <nav class="navbar navbar-expand-lg navbar-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Word Learner</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" href="#" data-section="learning"
                >Learning</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-section="import-export"
                >Database Import/Export</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-section="words">Words</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-section="settings">Settings</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- بخش یادگیری -->
    <div id="learning" class="section active">
      <!-- Practice Section -->
      <div id="practice-section" class="mb-5">
        <h2>
          Practice
          <span
            id="voice-control"
            class="voice-control active"
            class="text-primary"
            style="cursor: pointer; display: none"
          >
            <svg
              class="volume-off"
              width="24"
              viewBox="0 0 24 24"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              fill="#000000"
            >
              <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
              <g
                id="SVGRepo_tracerCarrier"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></g>
              <g id="SVGRepo_iconCarrier">
                <title>volume_off_line</title>
                <g
                  id="页面-1"
                  stroke="none"
                  stroke-width="1"
                  fill="none"
                  fill-rule="evenodd"
                >
                  <g id="Media" transform="translate(-672.000000, -96.000000)">
                    <g
                      id="volume_off_line"
                      transform="translate(672.000000, 96.000000)"
                    >
                      <path
                        d="M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z"
                        id="MingCute"
                        fill-rule="nonzero"
                      ></path>
                      <path
                        d="M4.59604,8 L6.59604,10 L4,10 L4,14 L6.67953,14 C7.09638,14 7.50281,14.1302 7.84201,14.3725 L13,18.0568 L13,16.404 L15,18.404 L15,19.8057 C15,20.7004 13.9887,21.2208 13.2606,20.7008 L6.67953,16 L4,16 C2.89543,16 2,15.1046 2,14 L2,10 C2,8.89543 2.89543,8 4,8 L4.59604,8 Z M13.2606,3.29921 C13.9570435,2.80178043 14.9125962,3.25632123 14.9943712,4.07979597 L15,4.19432 L15,13.5857 L16.1133,14.699 C15.9250273,14.3390909 15.9729529,13.8927355 16.2448304,13.5804448 L16.3331,13.491 C16.7438,13.1233 17,12.5922 17,12 C17,11.46693 16.792478,10.983513 16.4515733,10.624107 L16.3331,10.509 C15.9216,10.1407 15.8865,9.50849 16.2549,9.09696 C16.6232,8.68544 17.2554,8.65042 17.6669,9.01874 C18.4836,9.74974 19,10.8152 19,12 C19,13.1847 18.4836,14.2502 17.6669,14.9812 C17.3831667,15.2351556 16.9945049,15.2973481 16.6597823,15.1766272 L16.5371,15.1228 L18.0072,16.5929 C17.9694,16.2796 18.0801,15.9535 18.3331,15.7271 C19.3576,14.8101 20,13.4807 20,12 C20,10.5193 19.3576,9.18989 18.3331,8.27293 C17.9216,7.9046 17.8865,7.27241 18.2549,6.86088 C18.6232,6.44935 19.2554,6.41433 19.6669,6.78266 C21.0974,8.06298 22,9.92675 22,12 C22,14.0733 21.0974,15.937 19.6669,17.2174 C19.4754143,17.3887429 19.2361735,17.4728041 18.9979822,17.4722286 L18.8792,17.4649 L20.4854,19.0711 C20.8759,19.4616 20.8759,20.0948 20.4854,20.4853 C20.1249385,20.8457615 19.5576793,20.8734893 19.1654027,20.5684834 L19.0712,20.4853 L3.51482,4.92894 C3.12429,4.53841 3.12429,3.90525 3.51482,3.51473 C3.8753,3.15424077 4.44253503,3.12651083 4.8348235,3.43154018 L4.92903,3.51473 L8.27482,6.86051 L13.2606,3.29921 Z M13,5.94319 L9.70854,8.29423 L13,11.5857 L13,5.94319 Z"
                        id="形状"
                        fill="#09244B"
                      ></path>
                    </g>
                  </g>
                </g>
              </g>
            </svg>
            <!-- Speaker icon -->
            <svg
              class="volume-on"
              width="24"
              viewBox="0 0 24 24"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              fill="#000000"
            >
              <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
              <g
                id="SVGRepo_tracerCarrier"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></g>
              <g id="SVGRepo_iconCarrier">
                <title>volume_line</title>
                <g
                  id="页面-1"
                  stroke="none"
                  stroke-width="1"
                  fill="none"
                  fill-rule="evenodd"
                >
                  <g id="Media" transform="translate(-1344.000000, 0.000000)">
                    <g
                      id="volume_line"
                      transform="translate(1344.000000, 0.000000)"
                    >
                      <path
                        d="M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z"
                        id="MingCute"
                        fill-rule="nonzero"
                      ></path>
                      <path
                        d="M15,4.19422 L15,19.8056 C15,20.7003 13.9887,21.2207 13.2606,20.7007 L6.67953,15.9999 L4,15.9999 C2.89543,15.9999 2,15.1045 2,13.9999 L2,9.99991 C2,8.89534 2.89543,7.99991 4,7.99991 L6.67953,7.99991 L13.2606,3.29912 C13.9887,2.77908 15,3.29952 15,4.19422 Z M13,5.94309 L7.84201,9.62737 C7.50281,9.86966 7.09638,9.99991 6.67953,9.99991 L4,9.99991 L4,13.9999 L6.67953,13.9999 C7.09638,13.9999 7.50281,14.1302 7.84201,14.3724 L13,18.0567 L13,5.94309 Z M18.2549,6.86093 C18.6232,6.4494 19.2554,6.41438 19.6669,6.78271 C21.0974,8.06302 21.9999957,9.92679 21.9999957,12.0001 C21.9999957,14.0733 21.0974,15.9371 19.6669,17.2174 C19.2554,17.5857 18.6232,17.5507 18.2549,17.1392 C17.8865,16.7277 17.9216,16.0955 18.3331,15.7271 C19.3576,14.8102 19.9999957,13.4808 19.9999957,12.0001 C19.9999957,10.5193 19.3576,9.18994 18.3331,8.27298 C17.9216,7.90465 17.8865,7.27245 18.2549,6.86093 Z M17.6669,9.01879 C18.4837,9.74979 18.9999957,10.8153 18.9999957,12 C18.9999957,13.1848 18.4837,14.2503 17.6669,14.9813 C17.2554,15.3496 16.6232,15.3146 16.2549,14.9031 C15.9148385,14.5231615 15.9185876,13.9552562 16.2448325,13.5804564 L16.3331,13.491 C16.7439,13.1234 16.9999957,12.5923 16.9999957,12 C16.9999957,11.46702 16.7925582,10.983531 16.4515975,10.6241826 L16.3331,10.5091 C15.9216,10.1407 15.8865,9.50854 16.2549,9.09701 C16.6232,8.68548 17.2554,8.65046 17.6669,9.01879 Z"
                        id="形状"
                        fill="#09244B"
                      ></path>
                    </g>
                  </g>
                </g>
              </g>
            </svg>
          </span>
        </h2>
        <div id="word-display" class="card p-3 mb-3">
          <p id="sentence" class="lead">Loading...</p>
        </div>
        <button
          id="understand-btn"
          class="btn btn-success me-2"
          style="display: none"
        >
          I Understand
        </button>
        <button
          id="dont-understand-btn"
          class="btn btn-danger me-2"
          style="display: none"
        >
          I Don't Understand
        </button>
        <button
          id="start-btn"
          class="btn btn-primary me-2"
          style="display: none"
        >
          Start
        </button>
      </div>
      <div
        id="progress-section"
        class="progress-section mt-4"
        style="display: none"
      >
        <h3>Progress</h3>
        <p>
          Words understood:
          <span id="progressPercentage" class="fw-bold"></span>
        </p>
        <p>
          Remaining questions:
          <span id="remainingQuestions" class="fw-bold"></span>
        </p>
      </div>
    </div>

    <!-- Import Words Section -->
    <div id="import-export" class="section">
      <div id="import-section" class="mb-5">
        <h2>
          Import Words
          <span
            id="help-icon"
            class="text-primary"
            style="cursor: pointer"
            data-bs-toggle="modal"
            data-bs-target="#help-modal"
            ><svg
              fill="#000000"
              version="1.1"
              id="Capa_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              width="24"
              height="24"
              viewBox="0 0 32 32"
              xml:space="preserve"
            >
              <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
              <g
                id="SVGRepo_tracerCarrier"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></g>
              <g id="SVGRepo_iconCarrier">
                <g>
                  <path
                    d="M17.962,24.725l1.806,0.096v2.531h-7.534v-2.406l1.045-0.094c0.568-0.063,0.916-0.254,0.916-1.014v-8.801 c0-0.699-0.188-0.92-0.791-0.92l-1.106-0.062v-2.626h5.666L17.962,24.725L17.962,24.725z M15.747,4.648 c1.394,0,2.405,1.047,2.405,2.374c0,1.331-1.014,2.313-2.438,2.313c-1.454,0-2.404-0.982-2.404-2.313 C13.31,5.695,14.26,4.648,15.747,4.648z M16,32C7.178,32,0,24.822,0,16S7.178,0,16,0c8.82,0,16,7.178,16,16S24.82,32,16,32z M16,3 C8.832,3,3,8.832,3,16s5.832,13,13,13s13-5.832,13-13S23.168,3,16,3z"
                  ></path>
                </g>
              </g>
            </svg>
          </span>
        </h2>

        <input
          type="file"
          id="file-input"
          class="form-control mb-3"
          accept=".json"
        />
        <button id="import-btn" class="btn btn-primary">Import Words</button>
      </div>

      <!-- Database Management Section -->
      <div id="db-section" class="mb-5">
        <h2>Database Management</h2>
        <button id="rebuild-db-btn" class="btn btn-warning me-2">
          Rebuild Database
        </button>
        <button id="export-data-btn" class="btn btn-secondary">
          Export Data
        </button>
        <button id="export-words-btn" class="btn btn-secondary">
          Export Words
        </button>
      </div>
    </div>

    <!-- Help Modal -->
    <div
      class="modal fade"
      id="help-modal"
      tabindex="-1"
      aria-labelledby="help-modal-label"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="help-modal-label">
              Import Instructions
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            Imported file must be in JSON format:
            <pre>
[
  { word: 'example1', sentence: 'This is an example1 sentence.' },
  { word: 'example2', sentence: 'This is an example2 sentence.' },
  { word: 'example3', sentence: 'This is an example3 sentence.' }
]</pre
            >
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- words Section -->
    <div id="words" class="section">
      <div id="crud-section" class="mb-5">
        <div class="d-flex justify-content-between align-items-center">
          <h2>Manage Words</h2>
          <!-- Add Word Button -->
          <button
            id="add-word-btn"
            class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#word-modal"
          >
            Add New Word
          </button>
        </div>
        <div></div>
        <table id="word-table" class="table table-striped">
          <thead>
            <tr>
              <th>Word</th>
              <th>Sentence</th>
              <th>Box</th>
              <th>Days</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody></tbody>
          <tfoot>
            <tr>
              <td class="text-center" colspan="5">
                <div id="words-notfound" class="text-muted">
                  <svg
                    width="64"
                    height="41"
                    viewBox="0 0 64 41"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g
                      transform="translate(0 1)"
                      fill="none"
                      fill-rule="evenodd"
                    >
                      <ellipse
                        fill="#f6f7f7"
                        cx="32"
                        cy="33"
                        rx="32"
                        ry="7"
                      ></ellipse>
                      <g fill-rule="nonzero" stroke="#dfe0e1">
                        <path
                          d="M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"
                        ></path>
                        <path
                          d="M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z"
                          fill="#fbfbfb"
                        ></path>
                      </g>
                    </g>
                  </svg>
                  <div class="text-gray-500">No Result</div>
                </div>
                <div id="words-loading" class="text-muted">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="animate-spin"
                  >
                    <path d="M21 12a9 9 0 1 1-6.219-8.56"></path>
                  </svg>
                  <div class="text-gray-500">Loading ...</div>
                </div>
              </td>
            </tr>
          </tfoot>
        </table>
      </div>

      <!-- Add/Edit Word Modal -->
      <div
        class="modal fade"
        id="word-modal"
        tabindex="-1"
        aria-labelledby="word-modal-label"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="word-modal-label">Add/Edit Word</h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <form id="word-form">
                <div class="mb-3">
                  <label for="modal-word" class="form-label">Word</label>
                  <input
                    type="text"
                    class="form-control"
                    id="modal-word"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="modal-sentence" class="form-label"
                    >Sentence</label
                  >
                  <textarea
                    class="form-control"
                    id="modal-sentence"
                    rows="3"
                    required
                  ></textarea>
                </div>
                <input type="hidden" id="original-word" />
              </form>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
              <button type="submit" form="word-form" class="btn btn-primary">
                Save
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Settings Section -->
    <div id="settings" class="section">
      <div id="settings-section" class="mb-5">
        <h2>Settings</h2>
        <form id="settings-form">
          <div class="mb-3">
            <label for="new-words-per-day" class="form-label"
              >Number of New Words to Learn Per Day</label
            >
            <input
              type="number"
              class="form-control"
              id="new-words-per-day"
              min="1"
              required
            />
          </div>
          <button type="submit" class="btn btn-primary">Save Settings</button>
        </form>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="app.js"></script>
  </body>
</html>
